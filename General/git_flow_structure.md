# Git Flow Structure

به صورت کلی ما دو برنچ اصلی به نام های `master` یا `main` و `develop` داریم.
برنچ `master` یا `main` همیشه به آخرین ورژن پروژه (`production`) اشاره می کند که روی این برنچ نباید هیچ `commit` و `push` مستقیمی صورت بگیرد.

##فیچر(feature)

برای اضافه کردن ویژگی جدید به پروژه، فقط کافی است از روی برنچ `develop` یک برنچ جدید ایجاد کنیم که نامگذاری آن به صورت زیر خواهد بود:
`feature/feature-name`

مثلا:

`feature/generate-excel-file-from-users-phone-numbers`
کارهای مربوط به این فیچر در همین برنچ کامیت میشود و درپایان با `finish` کردن برنچ، برروی برنچ `develop` مرج میشود.
فیچر های دیگر نیز به همین صورت اتمام و مرج می شوند.

##هاتفیکس(hotfix)

هنگامی که باگی در پروژه و روی سرور پروداکشن پیدا میشود که نیاز است سریعا رفع شود، یک برنچ از روی `master` میسازیم و به صورت زیر نامگذاری میکنیم:
`hotfix/v1.0.1`
یعنی اگر آخرین ورژن ما (`1.0.0`) است، در نتیجه اسم هاتفیکس (`hotfix/v1.0.1`) میشود (یک واحد به رقم اخر اضافه میشود: براساس `semantic versioning`)
بعد از اتمام کار و حل شدن مشکل، این برنچ نیز (مانند برنچ `Release` که در ادامه گفته می شود) بر روی `master` و `develop` مرج میشود و تگی با نام `v1.0.1` ایجاد میشود، که لازم است این تگ نیز همراه با دیگر کامیت ها `push` شود.

##ریلیز(release)

وقتی میخواهیم یک `release` یا خروجی از پروژه داشته باشیم، در واقع میخواهیم دو برنچ `develop`  و `master` را `sync` یا همسان کنیم، یک برنچ از روی `develop` میسازیم و به صورت زیر نامگذاری میکنیم:
`release/v1.0.0`

پس از اتمام کار این برنچ را روی `master` و `develop` مرج میکنیم و یک تگ با اسم `v1.0.0` هم ایجاد میکنیم. لازم است این تگ هم جداگانه push شود. (اگر تغییرات کوچک باشد و تاثیری روی فرایندهای کلی برنامه نگذارد عدد وسط تغییر می کند : `v1.1.0` اما اگر تغییرات بزرگ باشد یا روی فرایندهای کلی برنامه تاثیر مهمی بگذارد عدد ابتدایی تغییر خواهد کرد : `v2.0.0`
حالا هر دو برنچ `master` و `develop` به روز هستند و تغییرات نهایی را دارند.

نکات تکمیلی
- کامیت مستقیم بر روی برنچ `develop` امکانپذیر است، اما توصیه نمی شود : بهتر است حتی‌المقدور یک برنچ `feature`  ایجاد شود و تغییرات روی این برنچ اعمال شده و سپس روی `develop` مرج شود.
- بروزرسانی و اصلاح فیچر از روی `develop` امکانپذیر است.
- کامیت بر روی برنچ های مرج شده ممنوع است.
- کامیت بر روی `master` ممنوع است.
- بهتر است نامگذاری برنچ ها به صورت `kebab-case` باشد.
- 
  توضیحات کامیت ها (Commit Tags):

به طور کلی اکثر کامیت ها یکی از موارد زیر میباشند:
`fix:` رفع باگ
`feat:` اضافه شدن فیچر
`refactor:` ریفکتور کردن کد ها
`style:` مرتب سازی و چینش کدها
`docs:` اصلاحات و تغییرات در داکیومنت ها
`chore:` تغییراتی در ساختار برنامه که کاربر حس نخواهد کرد (مثلا آپگرید ورژن لاراول)
`test:` موارد مربوط به تست ها
و غیره ...
بنابر این عنوان کامیت ها به این صورت خواهد بود:
`fix:  check user phone number is not null`
`feat: add user contact list`
`refactor: part x of food-list`
`chore: upgrade laravel version to 6.x ...`
یعنی در واقع همه کامیت ها همراه با یک تگ نامگذاری می شوند. ضمنا باید توجه داشت هر کامیت باید به اندازه کافی کوچک باشد به طوری که در هر کامیت فقط یک کار یا تغییر انجام شده باشد. اسم گذاری کامیتها به صورت جمله با فعل امری است و نشان دهنده کاری (و نه کارهایی) است که انجام شده.
توضیحات بیشتر در این زمینه را در لینک زیر مطالعه کنید:
![](https://www.conventionalcommits.org/favicon.ico)


Conventional Commits

![](https://gist.github.com/favicon.ico)


Semantic Commit Messages

![](https://paper-attachments.dropbox.com/s_41AD9BBED26A6CA92EE0DDA5D9BA4A9D29EB4E2648F91E67342A627CBD428849_1648365218282_4-2-1-1-gitflow.png)

